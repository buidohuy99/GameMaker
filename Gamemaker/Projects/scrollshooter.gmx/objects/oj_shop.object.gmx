<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sp_shopbackground</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-10</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>xx=((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+205+((24-sprite_get_width(sp_drawbar))/2)
yy=((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+127+13
numberslot=5;
shopstart=0;
topLimit=0;
bottomLimit=0;
bottomcell=5;
ichoosethis=-1;
//ichoosethisbefore=-1;
//global.money=100000000;
//global.dame=1000;

//variable for custom loading
rm=0;
loadstart=0;
loadend=13;
lengthofitemload=loadend-loadstart+1;
//strawberry geu mat
itemname[0,0]="Red Potion"
itemname[1,0]="Orange Potion"
itemname[2,0]="White Potion"
itemname[3,0]="Damage Orb "
itemname[4,0]="Multiplier Up"
itemname[5,0]="Max HP Up"
itemname[6,0]="+1 Live"
itemname[7,0]="VND pouch"
itemname[8,0]="VND Treasure Chest"
itemname[9,0]="10,000 Points"
itemname[10,0]="50,000 Points"
itemname[11,0]="200,000 Points"
itemname[12,0]="1,000,000 Points"
itemname[13,0]="Refreshing Cider"
itemname[14,0]="Fashion Item#2"
itemname[15,0]="Fashion Item#3"
itemname[16,0]="Mir (Character)"
//item price 
vnd[0,2]=1000; //red potion
vnd[1,2]=3100; //orange potion
vnd[2,2]=6200; //white potion
vnd[3,2]=10000; //Damage Orb
vnd[4,2]=99999; //Multiplier
vnd[5,2]=69999; //Max hp
vnd[6,2]=10000; //Lives
vnd[7,2]=5000; //VND Pouch
vnd[8,2]=50000; //VND Chest
vnd[9,2]=10000; //Points
vnd[10,2]=50000;//Points
vnd[11,2]=180000; //Points
vnd[12,2]=800000;//Points
vnd[13,2]=10000; //Cider
vnd[14,2]=100000; //Fashion 2
vnd[15,2]=100000;//Fashion 3
vnd[16,2]=300000;//Mir Character
//variables
chooseit=false;
yheightbar=(sprite_get_height(sp_drawbar)-sprite_get_height(sp_slider))/(min(lengthofitemload,array_height_2d(itemname))-numberslot);
//create buttons
instance_create(((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+135,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+32,oj_leaveshop)
instance_create(((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+135,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+54,oj_buy)

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists(oj_bar) {
    instance_create(xx,yy,oj_bar);
} else {
if topLimit!=oj_bar.topLimit&amp;&amp;bottomLimit!=oj_bar.bottomLimit{
topLimit=oj_bar.topLimit;
bottomLimit=oj_bar.bottomLimit;
}
}
//set offset 
if instance_exists(oj_slider){
    for (a=0;a&lt;6;a++){
        if rm=a {
   shopstart=round(((oj_slider.y-topLimit)/yheightbar)+lengthofitemload*a);
   bottomcell=round(shopstart+numberslot);
   if bottomcell&gt;array_height_2d(itemname)  {bottomcell=array_height_2d(itemname)
   shopstart=bottomcell-5
   }
   }
   }
}
//check mouse
if chooseit=true{
for (kl=0;kl&lt;5;kl++){
    if (mouse_y&gt;=((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+127+kl*40) &amp;&amp; (mouse_y&lt;=((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+161+kl*40)
    &amp;&amp; (mouse_x&gt;=6+((view_wview[0]-sprite_get_width(sp_shopbackground))/2)) &amp;&amp; (mouse_x&lt;=204+((view_wview[0]-sprite_get_width(sp_shopbackground))/2))
      {matln=shopstart;
    ichoosethis=matln+kl; 
    }
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="7">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>chooseit=false;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>chooseit=true;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_self();
draw_set_font(font7);
draw_set_color(c_black);
draw_set_valign(fa_top);
draw_set_halign(fa_left);
draw_text(100,100,string(shopstart));
draw_text(100,110,string(bottomcell));
draw_text(150,150,string(ichoosethis));
//draw_text(150,170,string(ichoosethisbefore));
//draw_text(100,500,string(global.money));
//draw_text(100,400,string(global.dame));

//draw selection
    if ichoosethis&gt;=shopstart &amp;&amp;ichoosethis&lt;bottomcell {
    draw_sprite(sp_choose,0,((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+43,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+127+40*(ichoosethis-shopstart));
    }else {if ichoosethis!=-1 {ichoosethis=-1;}}

//loop for drawing text
yyy=view_xview[0]+127;
for (i=shopstart;i&lt;min(array_height_2d(itemname),bottomcell);i++)
{
    draw_text(((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+47,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+yyy,string(itemname[abs(i),0]));
    draw_sprite(sp_consume,i,((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+24,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+yyy+16);
    draw_text(((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+47,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+yyy+18,string_thousands(vnd[abs(i),2])+' VND');
    yyy+=40;
}
if i&gt;=min(array_height_2d(itemname),bottomcell) {i=shopstart;}
//drawing Stats
draw_text(((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+277,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+view_xview[0]+127,'Damage:'+string(round(global.damage)));
draw_text(((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+277,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+view_xview[0]+127+40,'HP: '+string(global.planehp)+ '/'+string(global.maxplanehp));
draw_text(((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+277,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+view_xview[0]+127+40*2,'Multiplier: x'+string(global.multiplier));
//drawing Npc 
if instance_exists(shopNPC){
    for (i=0;i&lt;array_length_1d(global.space_station);i++){
    if room==global.space_station[i]{
    draw_sprite_ext(sp_shopnpc,i,((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+53,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+7+(sprite_get_height(sp_shopnpc)/2),-1,1,0,c_white,1)
}
}
}
//drawing character
draw_sprite_ext(maybay,image_index,((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+282,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+40,-1,1,0,c_white,1);
//drawing money
draw_set_valign(fa_top);
draw_set_halign(fa_right);
draw_text(((view_wview[0]-sprite_get_width(sp_shopbackground))/2)+447,((view_hview[0]-sprite_get_height(sp_shopbackground))/2)+view_xview[0]+65,string_thousands(global.cash));

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
